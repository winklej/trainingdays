(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{297:function(t,a){t.exports="data:image/png;base64,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"},298:function(t,a,s){t.exports=s.p+"assets/img/2variations.01257f1c.png"},299:function(t,a,s){t.exports=s.p+"assets/img/CloudShell1.af6f63c1.png"},300:function(t,a,s){t.exports=s.p+"assets/img/CloudShell2.3a511722.png"},301:function(t,a,s){t.exports=s.p+"assets/img/CloudShell3.f33383c0.png"},302:function(t,a,s){t.exports=s.p+"assets/img/newvm.55b1f9c3.png"},303:function(t,a,s){t.exports=s.p+"assets/img/newvm2.3cc60e1f.png"},729:function(t,a,s){"use strict";s.r(a);var e=s(10),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"challenge-2-cloud-shell-coding-your-azure-resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#challenge-2-cloud-shell-coding-your-azure-resources"}},[t._v("#")]),t._v(" Challenge 2: Cloud Shell - Coding Your Azure Resources")]),t._v(" "),a("h2",{attrs:{id:"here-is-what-you-will-learn-🎯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#here-is-what-you-will-learn-🎯"}},[t._v("#")]),t._v(" Here is what you will learn 🎯")]),t._v(" "),a("ul",[a("li",[t._v("Use the "),a("strong",[t._v("Cloud Shell")]),t._v(" as "),a("em",[t._v("launch point")]),t._v(" for PowerShell and Bash scripts.")]),t._v(" "),a("li",[t._v("Use "),a("strong",[t._v("Cloud Shell")]),t._v(" to automate Azure resource creation and configuration.")])]),t._v(" "),a("h2",{attrs:{id:"table-of-contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-of-contents"}},[t._v("#")]),t._v(" Table Of Contents")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#challenge-2-cloud-shell---coding-your-azure-resources"}},[t._v("Challenge 2: Cloud Shell - Coding Your Azure Resources")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#here-is-what-you-will-learn-"}},[t._v("Here is what you will learn 🎯")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#table-of-contents"}},[t._v("Table Of Contents")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#benefits-of-the-azure-cloud-shell"}},[t._v("Benefits of the Azure Cloud Shell")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#create-an-azure-cloud-shell"}},[t._v("Create an Azure Cloud Shell")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#playing-with-the-cloud-shell"}},[t._v("Playing with the Cloud Shell")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#powershell-az-modules-for-azure"}},[t._v("PowerShell Az Modules for Azure")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#create-a-vm-with-powershell-optional"}},[t._v("Create a VM with PowerShell (optional)")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#cleanup"}},[t._v("Cleanup")])])])])]),t._v(" "),a("h2",{attrs:{id:"benefits-of-the-azure-cloud-shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#benefits-of-the-azure-cloud-shell"}},[t._v("#")]),t._v(" Benefits of the Azure Cloud Shell")]),t._v(" "),a("p",[t._v("Ok - quite impressive what the Azure portal as a single page application allows us to do, isn't it?"),a("br"),t._v("\nHowever sometimes a shell is faster and better for repetitive tasks. But you may not want to install software nor tools for this in your machine."),a("br"),t._v("\nThe Azure "),a("strong",[t._v("Cloud Shell")]),t._v(" is a shell | console hosted in your browser window, ready to execute commands to create, delete, modify Azure resources in your subscription."),a("br"),t._v("\nWhile it is also possible to use PowerShell on your local PC to administer Azure, using the Cloud Shell brings some advantages compared to using your PC.")]),t._v(" "),a("p",[t._v("Using the Cloud Shell saves you time as:")]),t._v(" "),a("ul",[a("li",[t._v("you do not need to explicitly code the Azure logon within the script - you are already authenticated to Azure via the browser")]),t._v(" "),a("li",[t._v("you do not need anything to be installed on your PC. So no more asking "),a("a",{attrs:{href:"https://docs.microsoft.com/powershell/azure",target:"_blank",rel:"noopener noreferrer"}},[t._v("which version of PowerShell and what modules"),a("OutboundLink")],1),t._v(" are necessary")])]),t._v(" "),a("h2",{attrs:{id:"create-an-azure-cloud-shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-an-azure-cloud-shell"}},[t._v("#")]),t._v(" Create an Azure Cloud Shell")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[Azure Portal]\n-> Click the 'Cloud Shell' symbol close to your login details on the right upper corner.\n")])])]),a("p",[a("img",{attrs:{src:s(297),alt:"Cloud Shell"}}),t._v(")")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("The Azure Cloud Shell is an in-browser-accessible shell for managing Azure resources.")])]),t._v(" "),a("li",[a("p",[t._v("It already has the required SDKs and tools installed to interact with Azure.")])]),t._v(" "),a("li",[a("p",[t._v("The Azure Cloud Shell comes in 2 flavors: PowerShell or Bash. When being asked choose PowerShell this time.\n"),a("img",{attrs:{src:s(298),alt:"Bash or PowerShell"}})])]),t._v(" "),a("li",[a("p",[t._v("The first time you use the 'Cloud Shell' you will be asked to setup a storage account e.g. to store files you have uploaded persistently. "),a("a",{attrs:{href:"https://docs.microsoft.com/azure/cloud-shell/persisting-shell-storage",target:"_blank",rel:"noopener noreferrer"}},[t._v("See"),a("OutboundLink")],1)])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[Azure Portal] -> Click 'Show advanced settings'\n")])])]),a("p",[a("img",{attrs:{src:s(299),alt:"Cloud Shell Storage Account Setup"}})]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("em",[t._v("Subscription")])]),t._v(" "),a("td",[t._v("%your subscription%")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("Cloud Shell Region")])]),t._v(" "),a("td",[t._v("e.g. West Europe")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("Resource Group")])]),t._v(" "),a("td",[t._v("e.g. rg-cloudshell")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("Storage Account")])]),t._v(" "),a("td",[t._v("%some unique value%")])]),t._v(" "),a("tr",[a("td",[a("em",[t._v("File Share")])]),t._v(" "),a("td",[t._v("cloudshell")])])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[Azure Portal] -> Create storage\n")])])]),a("ul",[a("li",[a("p",[t._v("Once successful your shell should appear at the bottom of the page:")]),t._v(" "),a("p",[a("img",{attrs:{src:s(300),alt:"Cloud Shell in the Azure portal"}})])])]),t._v(" "),a("h2",{attrs:{id:"playing-with-the-cloud-shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#playing-with-the-cloud-shell"}},[t._v("#")]),t._v(" Playing with the Cloud Shell")]),t._v(" "),a("p",[t._v("Execute your first commands. Using 'PowerShell' as environment you can either call:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Azure CLI code snippets, go execute:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("az account show\n")])])])]),t._v(" "),a("li",[a("p",[t._v("or "),a("strong",[t._v("execute Azure PowerShell commands")]),t._v(", like:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzSubscription")]),t._v("\n")])])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("📝 Most Azure documentation offers script snippets shows both ways. My 2cts:")]),t._v(" "),a("ul",[a("li",[t._v("az commands tend to be shorter")]),t._v(" "),a("li",[t._v("PowerShell (as .NET based scripting language) gives you more flexibility when scripts get longer.")])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("Note that Azure uses PowerShell Core on a "),a("em",[t._v("Linux OS")]),t._v(" for PowerShell. You can check this via:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$psversiontable")]),t._v("\n")])])]),a("p",[t._v("should return something like:")]),t._v(" "),a("p",[a("img",{attrs:{src:s(301),alt:"PowerShell Version output"}})]),t._v(" "),a("p",[t._v("Hence, when you copy and pasted non PowerShell Core scripts, they may need some treatment before you can execute them")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Let's query e.g. the available VM sizes in a specific region:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzVMSize")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Location "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'west europe'")]),t._v("\n")])])]),a("p",[t._v("Output should be something like this:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("Name                   NumberOfCores MemoryInMB MaxDataDiskCount OSDiskSizeInMB ResourceDiskSizeInMB\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\nStandard_A0                        1        768                1        1047552                20480\nStandard_A1                        1       1792                2        1047552                71680\nStandard_A2                        2       3584                4        1047552               138240\nStandard_A3                        4       7168                8        1047552               291840\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n")])])]),a("p",[t._v("List your Azure resources by executing:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzResource")]),t._v("\n")])])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v('📝 Ok. So there are PowerShell cmds (so-called cmdlets "'),a("em",[t._v("action")]),t._v("-"),a("em",[t._v("target")]),t._v("\") to administer azure. In Azure Cloud Shell they are 'pre'-installed for you. If you would want to run them from your PC you would need to install them ("),a("code",[t._v("install-module Az")]),t._v(") & update them ("),a("code",[t._v("update-module Az*")]),t._v(") on a regular basis. In PowerShell cmdlets are grouped into modules. If you want to find out which modules are installed - try "),a("code",[t._v("Get-Module az* -ListAvailable")]),t._v(". There is not a single Azure module. Instead the Azure services have their own modules - i.e. there is a module that hosts cmdlets for treating virtual machines, one for networking,...")])]),t._v(" "),a("h2",{attrs:{id:"powershell-az-modules-for-azure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#powershell-az-modules-for-azure"}},[t._v("#")]),t._v(" PowerShell Az Modules for Azure")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("To query the specific modules for Azure administration, go execute:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-Module")]),t._v(" az* "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ListAvailable\n")])])])]),t._v(" "),a("li",[a("p",[t._v("to list the pre-installed Az modules, go execute :")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("Directory: C:\\Program Files\\WindowsPowerShell\\Modules\n\n    Directory: "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr/local/share/powershell/Modules\n\nModuleType Version    PreRelease Name                                PSEdition ExportedCommands\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("                                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\nScript     4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1                 Az                                  Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Desk\nScript     1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("9"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3                 Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Accounts                         Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Desk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Disable-AzDataCollection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Disable-AzContextAutosave")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Enable-AzDataCollection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Enable-AzCon")]),t._v("…\nScript     1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1                 Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Advisor                          Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Desk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzAdvisorRecommendation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Enable-AzAdvisorRecommendation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Disable-AzAdvisorRecommendati")]),t._v("…\nScript     1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0                 Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Aks                              Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Desk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzAksCluster")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzAksCluster")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Remove-AzAksCluster")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Import-AzAksCredential")]),t._v("…"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nScript     1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("4                 Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AnalysisServices                 Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Desk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Resume-AzAnalysisServicesServer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Suspend-AzAnalysisServicesServer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzAnalysisServicesS")]),t._v("…\nScript     2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0                 Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApiManagement                    Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Desk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add-AzApiManagementApiToGateway")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add-AzApiManagementApiToProduct")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add-AzApiManagementProdu")]),t._v("…\nScript     1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0                 Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ApplicationInsights              Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Desk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzApplicationInsights")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzApplicationInsights")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Remove-AzApplicationInsights")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Update…\nScript     1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0                 Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Automation                       Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Desk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzAutomationHybridWorkerGroup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Remove-AzAutomationHybridWorkerGroup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzAutomationJ")]),t._v("…\nScript     3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0                 Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Batch                            Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Desk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Remove-AzBatchAccount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzBatchAccount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzBatchAccountKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzBatchAccount")]),t._v("…"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nScript     1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3                 Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Billing                          Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Desk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzBillingInvoice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzBillingPeriod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzEnrollmentAccount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzConsumptionBudge")]),t._v("…\nScript     1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3                 Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Cdn                              Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Desk "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzCdnProfile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzCdnProfileSsoUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzCdnProfile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Remove-AzCdnProfile")]),t._v("…"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("To find out which module hosts which cmdlet (e.g. Get-AzVMSize), type something like:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get-command")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("vmsize*\n")])])]),a("p",[t._v("Result similar to:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("CommandType     Name                                               Version    Source\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("                                               "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\nAlias           "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzureRmVMSize")]),t._v("\nCmdlet          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzDtlAllowedVMSizesPolicy")]),t._v("                      1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("2      Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DevTestLabs\nCmdlet          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzVMSize")]),t._v("                                       4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1      Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Compute\nCmdlet          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Set-AzDtlAllowedVMSizesPolicy")]),t._v("                      1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("2      Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DevTestLabs\n")])])])]),t._v(" "),a("li",[a("p",[t._v("To find out all commands hosted in the Az.Compute module type:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-Command")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Module Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Compute\n")])])]),a("p",[t._v("delivers e.g.:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("CommandType     Name                                               Version    Source\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("                                               "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nCmdlet          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzSnapshotUpdateConfig")]),t._v("                         4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1      Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Compute\nCmdlet          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVM")]),t._v("                                           4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1      Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Compute\nCmdlet          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVMConfig")]),t._v("                                     4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1      Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Compute\nCmdlet          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVMDataDisk")]),t._v("                                   4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1      Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Compute\nCmdlet          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVMSqlServerAutoBackupConfig")]),t._v("                  4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1      Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Compute\nCmdlet          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVMSqlServerAutoPatchingConfig")]),t._v("                4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1      Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Compute\nCmdlet          "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVMSqlServerKeyVaultCredentialConfig")]),t._v("          4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1      Az"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Compute\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("To learn more about a specific cmdlet. You can e.g. execute:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("help "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVM")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("examples\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"create-a-vm-with-powershell-optional"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-vm-with-powershell-optional"}},[t._v("#")]),t._v(" Create a VM with PowerShell (optional)")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Now let's create a VM using PowerShell. Execute:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("help "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVM")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("online\n")])])]),a("p",[t._v("This should open a new browser tab with online help for "),a("code",[t._v("New-AzVM")]),t._v(". Examine the explanation and look at the code samples.")])]),t._v(" "),a("li",[a("p",[t._v("Try creating a simple VM by executing:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VMName")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyVM'")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# variable for easy reuse")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVM")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Name "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VMName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Credential "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-Credential")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Location "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'North Europe'")]),t._v("\n")])])]),a("p",[t._v("Enter a user name ("),a("strong",[t._v("not")]),t._v(" 'admin' "),a("strong",[t._v("nor")]),t._v(" 'administrator') and a "),a("strong",[t._v("complex password")]),t._v(" when asked.")]),t._v(" "),a("p",[a("img",{attrs:{src:s(302),alt:"progress in azure cloud shell"}})]),t._v(" "),a("p",[t._v("After a successful run you should have a VM in your subscription:")]),t._v(" "),a("p",[a("img",{attrs:{src:s(303),alt:"MyVM in Azure Portal"}})])])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Note")]),t._v(":"),a("br"),t._v(" "),a("strong",[t._v("Creating a vm is not that easy")]),t._v(". We did not specify a network, vm size, operating system,..."),a("br"),t._v("\nSo "),a("strong",[t._v("a lot of defaults are assumed")]),t._v(". If you want to script this the code gets much longer."),a("br"),t._v("\nTake a look at some examples by executing:")])]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("help "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("new-azvm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("examples\n")])])]),a("p",[t._v("the output will be something like:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  Example 3: Create a VM "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" a marketplace image without a Public IP\n\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VMLocalAdminUser")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LocalAdminUser"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VMLocalAdminSecurePassword")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ConvertTo-SecureString")]),t._v(" <password> "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AsPlainText "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Force\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LocationName")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"westus"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ResourceGroupName")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyResourceGroup"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ComputerName")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyVM"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VMName")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyVM"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VMSize")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Standard_DS3"')]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$NetworkName")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyNet"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$NICName")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyNIC"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SubnetName")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MySubnet"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SubnetAddressPrefix")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10.0.0.0/24"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VnetAddressPrefix")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10.0.0.0/16"')]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SingleSubnet")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVirtualNetworkSubnetConfig")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Name "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SubnetName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AddressPrefix "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SubnetAddressPrefix")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Vnet")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVirtualNetwork")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Name "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$NetworkName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ResourceGroupName "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ResourceGroupName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Location "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LocationName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AddressPrefix "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VnetAddressPrefix")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Subnet "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SingleSubnet")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$NIC")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzNetworkInterface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Name "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$NICName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ResourceGroupName "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ResourceGroupName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Location "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LocationName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("SubnetId "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Vnet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Subnets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Id\n\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Credential")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-Object")]),t._v(" System"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Automation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PSCredential "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VMLocalAdminUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VMLocalAdminSecurePassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VirtualMachine")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVMConfig")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("VMName "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VMName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("VMSize "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VMSize")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VirtualMachine")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Set-AzVMOperatingSystem")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("VM "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VirtualMachine")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Windows "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ComputerName "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ComputerName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Credential "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Credential")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ProvisionVMAgent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("EnableAutoUpdate\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VirtualMachine")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Add-AzVMNetworkInterface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("VM "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VirtualMachine")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Id "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$NIC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Id\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VirtualMachine")]),t._v(" = "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Set-AzVMSourceImage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("VM "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VirtualMachine")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("PublisherName "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MicrosoftWindowsServer'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Offer "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'WindowsServer'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Skus "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2012-R2-Datacenter'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Version latest\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzVM")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ResourceGroupName "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ResourceGroupName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Location "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LocationName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("VM "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VirtualMachine")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Verbose\n")])])]),a("p",[t._v("As you can see this is much more code - even more if you enrich it with error handling.")]),t._v(" "),a("h2",{attrs:{id:"cleanup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cleanup"}},[t._v("#")]),t._v(" Cleanup")]),t._v(" "),a("p",[t._v("Cleanup by deleting the resource group with the VM using the portal or via executing:")]),t._v(" "),a("div",{staticClass:"language-PowerShell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Remove-AzResourceGroup")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$VMName")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Force "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AsJob   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -AsJob will execute this operation in the background")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("📝In case of an error try to restart the cloud shell as it times out.")])]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/day1/challenge-01/"}},[t._v("◀ Previous challenge")]),t._v(" | "),a("RouterLink",{attrs:{to:"/day1/"}},[t._v("🔼 Day 1")]),t._v(" | "),a("RouterLink",{attrs:{to:"/day1/challenge-03/"}},[t._v("Next challenge ▶")])],1)])}),[],!1,null,null,null);a.default=r.exports}}]);